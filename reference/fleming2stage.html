<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fleming 2-stage function — fleming2stage • PhIIdesign</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Fleming 2-stage function — fleming2stage" />
<meta property="og:description" content="The primary objective of a phase II clinical trial of a new drug or regimen is to determine whether it has sufficient biological activity
against the disease under study to warrant more extensive development. 
This function calculates the sample size needed in a Fleming 2-stage design which is a
two-stage design that is optimal in the sense that the expected sample size is minimized if the
regimen has low activity subject to constraints upon the size of the type 1 and type 2 errors. 
Two-stage designs which minimize the maximum sample size are also determined. 
This type of design also allows stopping for efficacy" />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">PhIIdesign</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fleming 2-stage function</h1>
    
    <div class="hidden name"><code>fleming2stage.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The primary objective of a phase II clinical trial of a new drug or regimen is to determine whether it has sufficient biological activity
against the disease under study to warrant more extensive development. <br />
This function calculates the sample size needed in a Fleming 2-stage design which is a
two-stage design that is optimal in the sense that the expected sample size is minimized if the
regimen has low activity subject to constraints upon the size of the type 1 and type 2 errors. <br />
Two-stage designs which minimize the maximum sample size are also determined. <br />
This type of design also allows stopping for efficacy</p>
    </div>

    <pre class="usage"><span class='fu'>fleming2stage</span><span class='op'>(</span>
  <span class='va'>p0</span>,
  <span class='va'>pa</span>,
  <span class='va'>alpha</span>,
  <span class='va'>beta</span>,
  eps <span class='op'>=</span> <span class='fl'>0</span>,
  <span class='va'>N_min</span>,
  <span class='va'>N_max</span>,
  int <span class='op'>=</span> <span class='fl'>0</span>,
  int_window <span class='op'>=</span> <span class='fl'>0.025</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>p0</th>
      <td><p>probability of the uninteresting response (null hypothesis \(H0\))</p></td>
    </tr>
    <tr>
      <th>pa</th>
      <td><p>probability of the interesting response (alternative hypothesis Ha)</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>Type I error rate \(P(reject H0|H0)\)</p></td>
    </tr>
    <tr>
      <th>beta</th>
      <td><p>Type II error rate \(P(reject Ha|Ha)\)</p></td>
    </tr>
    <tr>
      <th>eps</th>
      <td><p>tolerance default value = 0.005</p></td>
    </tr>
    <tr>
      <th>N_min</th>
      <td><p>minimum sample size value for grid search</p></td>
    </tr>
    <tr>
      <th>N_max</th>
      <td><p>maximum sample size value for grid search</p></td>
    </tr>
    <tr>
      <th>int</th>
      <td><p>pre-specified interim analysis percentage information</p></td>
    </tr>
    <tr>
      <th>int_window</th>
      <td><p>window around interim analysis percentage (e.g. 0.5 +- 0.025). 0.025 is default value</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a data.frame with elements</p><ul>
<li><p>n1: total number of patients in stage1</p></li>
<li><p>n2: total number of patients in stage2</p></li>
<li><p>N: total number of patients=n1+n2</p></li>
<li><p>r1: ("r" stands for "rejection") threshold for "rejecting" Ha: if x1&lt;=r1 --&gt; stop for futility at first stage</p></li>
<li><p>r2: ("r" stands for "rejection") threshold for "rejecting" Ha: if x1+x2&lt;=r --&gt; futility at second stage</p></li>
<li><p>a: ("a" for "acceptance") threshold for "accepting" Ha= stop for efficacy at first stage</p></li>
<li><p>eff: (r2 + 1)/N</p></li>
<li><p>90<!-- %CI_low: Result of call to OneArmPhaseTwoStudy::get_CI. Confidence interval according to Koyama and Chen (1989) --></p></li>
<li><p>90<!-- %CI_high: Result of call to OneArmPhaseTwoStudy::get_CI. Confidence interval according to Koyama and Chen (1989) --></p></li>
<li><p>EN.p0: expected sample size under H0</p></li>
<li><p>PET.p0: probability of terminating the trial at the end of the first stage under H0</p></li>
<li><p>MIN: column indicating if the design is the minimal design</p></li>
<li><p>OPT: column indicating if the setting is the optimal design</p></li>
<li><p>ADMISS: column indicating if the setting is the admissible design</p></li>
<li><p>alpha: the actual alpha value which is smaller than <code>alpha_param + eps</code></p></li>
<li><p>beta: the actual beta value where which is smaller than <code>beta_param + eps</code></p></li>
<li><p>p0: your provided <code>p0</code> value</p></li>
<li><p>pa: your provided <code>pa</code> value</p></li>
<li><p>alpha_param: your provided <code>alpha</code> value</p></li>
<li><p>beta_param: your provided <code>beta</code> value</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>if x1&lt;=r1 --&gt; stop futility at first stage <br />
if r1&lt;x1&lt;a --&gt; proceed to second dtage <br />
if x1&gt;=a --&gt; stop efficacy at first stage <br />
if (x1+x2)&lt;=r --&gt; futility at second stage <br />
if (x1+x2)&gt; r --&gt; efficacy at second stage <br />
So PET.H0=P_H0(X1&lt;=r1)+P_H0(X1&gt;=a1)</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Mander AP, Thompson SG. Two-stage designs optimal under the alternative hypothesis for phase II cancer clinical trials.
    Contemporary Clinical Trials 2010;31:572–578</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>samplesize</span> <span class='op'>&lt;-</span> <span class='fu'>fleming2stage</span><span class='op'>(</span>p0 <span class='op'>=</span> <span class='fl'>0.1</span>, pa <span class='op'>=</span> <span class='fl'>0.3</span>, alpha <span class='op'>=</span> <span class='fl'>0.05</span>, beta <span class='op'>=</span> <span class='fl'>0.2</span>,
                          eps <span class='op'>=</span> <span class='fl'>0.005</span>, N_min <span class='op'>=</span> <span class='fl'>1</span>, N_max <span class='op'>=</span> <span class='fl'>50</span><span class='op'>)</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Koenraad D'Hollander.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


